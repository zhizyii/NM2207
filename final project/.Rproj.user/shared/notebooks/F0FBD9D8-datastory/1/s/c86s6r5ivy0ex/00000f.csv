"0","#plot all gas types in 1 graph"
"0",""
"0","regions <- unique(new_data$Region)"
"0","years <- 2010:2021"
"0",""
"0","#create empty data frame to store the results"
"0","combined_data <- data.frame(Year = years)"
"0",""
"0","#loop through each region and add the data to combined_data"
"0","for (region in regions) {"
"0","  #calculate the sums for each year"
"0","  results <- sapply(years, function(year) {"
"0","    "
"0","    #filter the data for the specified year and region"
"0","    filtered_data <- new_data %>%"
"0","      filter(Region == region) %>%"
"0","      summarise(Year = as.integer(year), Total_Emissions = sum(get(as.character(year)))"
"0","      )"
"0","  })"
"0",""
"0","  result <- t(results)"
"0","  emissions <- as.numeric(result[,""Total_Emissions""])"
"0","  combined_data[region] <- emissions"
"0","}"
"0",""
"0","combined_data_longer <- combined_data %>%"
"0","  pivot_longer(cols = -Year, names_to = ""Region"", values_to = ""Emissions"")"
"0",""
"0","#create the plot"
"0","p2 <- ggplot(combined_data_longer, aes(x = Year, y = Emissions, color = Region)) +"
"0","  geom_line() +"
"0","  labs(x = ""Year"", y = ""Emissions (Region)"", "
"0","       color = ""Region"", "
"0","       title = ""Total Emissions Over the Years by Region"", "
"0","       caption = ""Units: Million metric tons of CO2 equivalent"")+"
"0","  theme(plot.background = element_rect(fill = ""#F4F1E8""),  # Set the background color of the plot"
"0","    legend.background = element_rect(fill = ""#F4F1E8"")) # Set the background color of the legend"
"0",""
"0","plotly_chart2 <- ggplotly(p2)"
"2","Warning: unable to open file 'C:\Users\hozhi\AppData\Local\Temp\RtmpEht7vS\file83945761683c' for writing"
"2","Warning: opening device failed"
"2","Error in dev_fun(filename = tempfile(), width = width %||% 640, height = height %||%  : 
  unable to start png() device
"
